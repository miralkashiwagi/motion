<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ç”»é¢å†…ã«å…¥ã£ãŸã‚‰å‡ºç¾ï¼ˆGSAPï¼‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <style>
    @import url('https://unpkg.com/destyle.css@4.0.1/destyle.min.css') layer(destyle);
    @import url('../assets/css/common.css') layer(common);

    @layer destyle, common, base, demo;


    @layer demo {


      .gsap-scroll-container {
        padding: 1rem;
        max-width: 800px;
        margin: 0 auto;
      }

      .elements {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1rem;
      }


      .element {
        padding: 2rem;
        margin-bottom: 1.5rem;
        background-color: #ccc;
        border-radius: 0.5rem;
        text-align: center;
        font-weight: 500;
      }


      @media screen and (min-width: 1400px) {
        .tp-dfwv {
          zoom:1.2
        }


      }
    }

    @layer base {
      .spacer {
        height: 100vh;
      }

      .spacer-half {
        height: 50vh;
      }
    }
  </style>
</head>

<body>
<div class="gsap-scroll-container">
  <!-- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã®ã‚¹ãƒšãƒ¼ã‚µãƒ¼ã‚’è¿½åŠ  -->
  <p>å³å´ã®æ“ä½œUIã§å‡ºç¾ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èª¿æ•´ã§ãã¾ã™</p>
  <div class="spacer-half"></div>

  <p>è¦ç´ ãŒå‡ºç¾ã™ã‚‹ã¾ã§ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ãã ã•ã„</p>
  <div class="spacer-half"></div>

  <h1>ã“ã®ä¸‹ã«è¦ç´ ãŒå‡ºç¾ã—ã¾ã™</h1>
  <div class="elements">
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
    <div class="element js-fadein">è¨­å®šå€¤ã«åˆã‚ã›ã¦å‡ºç¾</div>
  </div>

  <!-- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã®ã‚¹ãƒšãƒ¼ã‚µãƒ¼ã‚’è¿½åŠ  -->
  <div class="spacer"></div>
</div>

<script src="../assets/js/utils.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>

<script type="module">
  import {Pane} from 'https://cdn.jsdelivr.net/npm/tweakpane@4.0.5/dist/tweakpane.min.js';

  document.addEventListener('DOMContentLoaded', () => {
    // ãƒãƒ¼ã‚«ãƒ¼ã‚’è¡¨ç¤ºã—ã¦ãƒ‡ãƒãƒƒã‚°ã—ã‚„ã™ãã™ã‚‹ï¼ˆé–‹ç™ºæ™‚ã®ã¿ï¼‰
    // ScrollTrigger.defaults({
    //   markers: true
    // });
    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®šï¼ˆTweakpaneã§åˆ¶å¾¡ã§ãã‚‹ã‚ˆã†ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ä¿æŒï¼‰
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
    const defaultSettings = {
      from: {
        opacity: 0,
        x: 0,
        y: 50,
        scale: 1,
        rotation: 0,
        ease: 'power2.out',
        duration: 0.8,
        mask: 'unset'
      },
      to: {
        opacity: 1,
        mask: 'inset(0% 0% 0% 0%)'
      },
      scrollTrigger: {
        start: 'top 80%',
        // end: 'bottom bottom',
        toggleActions: 'play none none none'
      }
    };

    // Tweakpaneã®è¨­å®š
    const pane = new Pane({
      container: document.getElementById('tweakpane-container')
    });

    //position:fixed
    pane.containerElem_.style.position = 'fixed';

    // ãƒ•ã‚©ãƒ«ãƒ€ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®è¿½åŠ 
    const fromFolder = pane.addFolder({title: 'Fromè¨­å®š'});
    const durationFolder = pane.addFolder({title: 'é€Ÿåº¦è¨­å®š'});
    const scrollTriggerFolder = pane.addFolder({title: 'ScrollTriggerè¨­å®š'});
    const applyFolder = pane.addFolder({title: '[åæ˜ ]ã‚¯ãƒªãƒƒã‚¯ã§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¤‰åŒ–ã—ã¾ã™'});

    // Fromè¨­å®šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    fromFolder.addBinding(defaultSettings.from, 'opacity', {min: 0, max: 1, step: 0.1});
    fromFolder.addBinding(defaultSettings.from, 'x', {min: -200, max: 200, step: 1});
    fromFolder.addBinding(defaultSettings.from, 'y', {min: -200, max: 200, step: 1});
    fromFolder.addBinding(defaultSettings.from, 'scale', {min: 0, max: 2, step: 0.1});
    fromFolder.addBinding(defaultSettings.from, 'rotation', {min: -180, max: 180, step: 1});

    fromFolder.addBinding(defaultSettings.from, 'mask', {
      options: {
        'ãªã—': 'unset',
        'å·¦ã‹ã‚‰': 'inset(0 100% 0 0)',
        'å³ã‹ã‚‰': 'inset(0 0 0 100%)',
        'ä¸‹ã‹ã‚‰': 'inset(100% 0 0 0)',
        'ä¸Šã‹ã‚‰': 'inset(0 0 100% 0)'
      }
    });

    // é€Ÿåº¦è¨­å®šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    durationFolder.addBinding(defaultSettings.from, 'duration', {min: 0, max: 3, step: 0.1});
    durationFolder.addBinding(defaultSettings.from, 'ease', {
      options: {
        'â–¼ é–‹å§‹ãŒã‚†ã‚‹ã‚„ã‹ â–¼': null,  // ã“ã‚Œã¯é¸æŠã§ããªã„ã‚¿ã‚¤ãƒˆãƒ«
        'ã‚†ã£ãã‚Šå§‹ã¾ã‚‹ï¼ˆsine.inï¼‰': 'sine.in',
        'ãªã‚ã‚‰ã‹ã«åŠ é€Ÿï¼ˆpower2.inï¼‰': 'power2.in',
        'ã‚ˆã‚Šå¼·ãåŠ é€Ÿï¼ˆpower4.inï¼‰': 'power4.in',
        'ç·©ã‚„ã‹ã«å§‹ã¾ã‚Šæ€¥åŠ é€Ÿï¼ˆcirc.inï¼‰': 'circ.in',
        'éå¸¸ã«ç·©ã‚„ã‹ã«å§‹ã¾ã‚Šæ€¥åŠ é€Ÿï¼ˆexpo.inï¼‰': 'expo.in',


        'â–¼ çµ‚ã‚ã‚ŠãŒã‚†ã‚‹ã‚„ã‹ â–¼': null,  // ã“ã‚Œã¯é¸æŠã§ããªã„ã‚¿ã‚¤ãƒˆãƒ«
        'ãªã‚ã‚‰ã‹ã«æ¸›é€Ÿï¼ˆsine.outï¼‰': 'sine.out',
        'ãªã‚ã‚‰ã‹ã«æ¸›é€Ÿï¼ˆpower2.outï¼‰': 'power2.out',
        'ã‚ˆã‚Šå¼·ã„æ¸›é€Ÿï¼ˆpower4.outï¼‰': 'power4.out',
        'æ€¥æ¿€ãªæ¸›é€Ÿå¾Œã«ç·©ã‚„ã‹ï¼ˆcirc.outï¼‰': 'circ.out',
        'æ€¥æ¿€ãªæ¸›é€Ÿï¼ˆexpo.outï¼‰': 'expo.out',
        'å°‘ã—è·³ã­è¿”ã‚Šï¼ˆback.outï¼‰': 'back.out',
        'å¼¾åŠ›ã®ã‚ã‚‹è·³ã­è¿”ã‚Šï¼ˆelastic.outï¼‰': 'elastic.out',
        'ãƒã‚¦ãƒ³ãƒ‰ï¼ˆbounce.outï¼‰': 'bounce.out',

        'â–¼ ä¸¡ç«¯ãŒæ»‘ã‚‰ã‹ â–¼': null,  // ã“ã‚Œã¯é¸æŠã§ããªã„ã‚¿ã‚¤ãƒˆãƒ«
        'ä¸¡ç«¯ãŒæ»‘ã‚‰ã‹ï¼ˆsine.inOutï¼‰': 'sine.inOut',
        'ä¸¡ç«¯ãŒæ»‘ã‚‰ã‹ï¼ˆpower2.inOutï¼‰': 'power2.inOut',
        'ã‚ˆã‚Šå¼·ã„åŠ æ¸›é€Ÿï¼ˆpower4.inOutï¼‰': 'power4.inOut',
        'å††é‹å‹•ã®ã‚ˆã†ãªåŠ æ¸›é€Ÿï¼ˆcirc.inOutï¼‰': 'circ.inOut',
        'ä¸¡ç«¯ãŒæ€¥æ¿€ï¼ˆexpo.inOutï¼‰': 'expo.inOut',
      }
    });

    // ScrollTriggerè¨­å®šã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    scrollTriggerFolder.addBinding(defaultSettings.scrollTrigger, 'start', {
      options: {
        'è¦ç´ ã®ä¸Šç«¯ãŒç”»é¢ã®ä¸‹ç«¯': 'top bottom',
        'è¦ç´ ã®ä¸Šç«¯ãŒç”»é¢ã®ä¸‹ç«¯ã‹ã‚‰20%': 'top 80%',
      }
    });
    // scrollTriggerFolder.addBinding(defaultSettings.scrollTrigger, 'end', {
    //   options: {
    //     'è¦ç´ ã®ä¸‹ç«¯ãŒç”»é¢ã®ä¸‹ç«¯': 'bottom bottom',
    //     'è¦ç´ ã®ä¸‹ç«¯ãŒç”»é¢ã®ä¸‹ç«¯ã‹ã‚‰20%': 'bottom 80%',
    //   }
    // });
    scrollTriggerFolder.addBinding(defaultSettings.scrollTrigger, 'toggleActions', {
      options: {
        //ï¼‘å›ã ã‘å†ç”Ÿã€ä¸Šã«æˆ»ã£ãŸã‚‰reverseã—ã¦ä¸‹ã«é€²ã‚“ã ã‚‰play

        'ï¼‘å›ã ã‘å†ç”Ÿ': 'play none none none',
        'ä¸Šæ–¹å‘ã«æˆ»ã£ãŸã‚‰æ¶ˆãˆã‚‹': 'play none none reverse',
      }
    });
    const btn = applyFolder.addButton({
      title: 'åæ˜ ',
      label: 'è¨­å®šã‚’é©ç”¨'
    });

    //applyFolderã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´
    applyFolder.element.style.backgroundColor = 'blue';


    // GSAPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿æŒã™ã‚‹é…åˆ—
    let animations = [];
    let scrollTriggers = [];

    // GSAPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–é–¢æ•°
    function initGSAP() {
      // æ—¢å­˜ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼ã‚’ã‚­ãƒ«
      animations.forEach(anim => anim.kill());
      scrollTriggers.forEach(st => st.kill());

      // é…åˆ—ã‚’ã‚¯ãƒªã‚¢
      animations = [];
      scrollTriggers = [];

      // GSAPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆæœŸåŒ–
      document.querySelectorAll('.js-fadein').forEach(element => {
        const tl = gsap.timeline({
          scrollTrigger: {
            trigger: element,
            start: defaultSettings.scrollTrigger.start,
            toggleActions: defaultSettings.scrollTrigger.toggleActions,
            // å¿…è¦ã«å¿œã˜ã¦ä»–ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼è¨­å®šã‚’è¿½åŠ 

            markers: {
              startColor: "green",   // startãƒãƒ¼ã‚«ãƒ¼ã®è‰²
              endColor: "transparent", // endãƒãƒ¼ã‚«ãƒ¼ã‚’é€æ˜ã«ã—ã¦éè¡¨ç¤ºã«
              fontSize: "12px",
              indent: 10
            }

          }
        });

        tl.fromTo(element,
          {
            opacity: defaultSettings.from.opacity,
            x: defaultSettings.from.x,
            y: defaultSettings.from.y,
            scale: defaultSettings.from.scale,
            rotation: defaultSettings.from.rotation,
            clipPath: defaultSettings.from.mask !== 'unset' ? defaultSettings.from.mask : null
          },
          {
            opacity: defaultSettings.to.opacity,
            x: 0,
            y: 0,
            scale: 1,
            rotation: 0,
            clipPath: defaultSettings.to.mask !== 'unset' ? defaultSettings.to.mask : null,
            duration: defaultSettings.from.duration,
            ease: defaultSettings.from.ease,
          }
        );

        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨é–¢é€£ã™ã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒªã‚¬ãƒ¼ã‚’é…åˆ—ã«è¿½åŠ 
        animations.push(tl);
        scrollTriggers.push(tl.scrollTrigger);
      });
    }


    // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«GSAPã‚’å†åˆæœŸåŒ–
    btn.on('click', () => {
      initGSAP();
    });

    // åˆå›ã®GSAPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
    initGSAP();



    // åæ˜ ãƒœã‚¿ãƒ³ã®ä¸‹ã«ã‚³ãƒ¼ãƒ‰å‡ºåŠ›ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
    applyFolder.addButton({
      title: 'ğŸ“‹ ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ'
    }).on('click', () => {
      // ç¾åœ¨ã®è¨­å®šã«åŸºã¥ã„ã¦ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
      generateAndShowCode(defaultSettings);
    });

// ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã¨è¡¨ç¤ºã‚’è¡Œã†é–¢æ•°
    function generateAndShowCode(settings) {
      // ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
      const code = generateGSAPCode(settings);

      // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’ä½œæˆã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤º
      showCodeModal(code);
    }

// GSAP + ScrollTriggerã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
    function generateGSAPCode(settings) {
      // fromã®å€¤ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ç”¨ã®æ–‡å­—åˆ—ã‚’ç”Ÿæˆ
      const fromProps = [];
      if (settings.from.opacity !== 1) fromProps.push(`opacity: ${settings.from.opacity}`);
      if (settings.from.x !== 0) fromProps.push(`x: ${settings.from.x}`);
      if (settings.from.y !== 0) fromProps.push(`y: ${settings.from.y}`);
      if (settings.from.scale !== 1) fromProps.push(`scale: ${settings.from.scale}`);
      if (settings.from.rotation !== 0) fromProps.push(`rotation: ${settings.from.rotation}`);
      if (settings.from.mask !== 'unset' && settings.from.mask !== undefined) {
        fromProps.push(`clipPath: "${settings.from.mask}"`);
      }

      // toã®å€¤ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ç”¨ã®æ–‡å­—åˆ—ã‚’ç”Ÿæˆ
      const toProps = [];
      toProps.push(`opacity: ${settings.to.opacity}`);
      if (settings.to.mask !== 'unset' && settings.to.mask !== undefined) {
        toProps.push(`clipPath: "${settings.to.mask}"`);
      }

      // ScrollTriggerè¨­å®š
      const scrollTriggerProps = [];
      scrollTriggerProps.push(`trigger: ".js-fadein"`);
      scrollTriggerProps.push(`start: "${settings.scrollTrigger.start}"`);
      if (settings.scrollTrigger.end) {
        scrollTriggerProps.push(`end: "${settings.scrollTrigger.end}"`);
      }
      scrollTriggerProps.push(`toggleActions: "${settings.scrollTrigger.toggleActions}"`);

      // ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—ã‚’çµ„ã¿ç«‹ã¦
      return `// GSAPã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®š
gsap.utils.toArray('.js-fadein').forEach(element => {
  gsap.fromTo(element,
    {
      ${fromProps.join(',\n      ')}
    },
    {
      ${toProps.join(',\n      ')},
      duration: ${settings.from.duration},
      ease: "${settings.from.ease}",
      scrollTrigger: {
        ${scrollTriggerProps.join(',\n        ')}
      }
    }
  );
});`;
    }


    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ä½œæˆã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
    function showCodeModal(codeText) {
      // ã™ã§ã«ã‚ã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ«ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’å‰Šé™¤ï¼ˆé‡è¤‡é˜²æ­¢ï¼‰
      const existingModal = document.getElementById('code-modal');
      const existingOverlay = document.getElementById('code-modal-overlay');
      if (existingModal) {
        existingModal.remove();
      }
      if (existingOverlay) {
        existingOverlay.remove();
      }

      // ãƒ¢ãƒ¼ãƒ€ãƒ«è¦ç´ ã‚’ä½œæˆ
      const modal = document.createElement('div');
      modal.id = 'code-modal';
      modal.style.cssText = `
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 1000;
    max-width: 90%;
    max-height: 90vh;
    overflow-y: auto;
  `;

      // ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤
      const overlay = document.createElement('div');
      overlay.id = 'code-modal-overlay'; // IDã‚’è¿½åŠ 
      overlay.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 999;
  `;

      // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ä¸¡æ–¹å‰Šé™¤
      overlay.onclick = () => {
        modal.remove();
        overlay.remove();
      };

      // ã‚¿ã‚¤ãƒˆãƒ«
      const title = document.createElement('h3');
      title.textContent = 'GSAPã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰';
      title.style.cssText = 'margin-bottom: 10px; font-weight: bold;';

      // ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã™ã‚‹preè¦ç´ 
      const pre = document.createElement('pre');
      pre.style.cssText = `
    background: #f5f5f5;
    padding: 15px;
    border-radius: 4px;
    overflow-x: auto;
    font-family: monospace;
    white-space: pre-wrap;
    margin: 10px 0;
  `;
      pre.textContent = codeText;

      // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³
      const copyButton = document.createElement('button');
      copyButton.textContent = 'ã‚³ãƒ”ãƒ¼';
      copyButton.style.cssText = `
    background: #4285f4;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    margin-right: 8px;
  `;
      copyButton.onclick = () => {
        navigator.clipboard.writeText(codeText);
        copyButton.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ!';
        setTimeout(() => {
          copyButton.textContent = 'ã‚³ãƒ”ãƒ¼';
        }, 2000);
      };

      // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ - ã“ã“ã‚’ä¿®æ­£
      const closeButton = document.createElement('button');
      closeButton.textContent = 'é–‰ã˜ã‚‹';
      closeButton.style.cssText = `
    background: #888;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
  `;
      // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã«ãƒ¢ãƒ¼ãƒ€ãƒ«ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã®ä¸¡æ–¹ã‚’å‰Šé™¤
      closeButton.onclick = () => {
        modal.remove();
        overlay.remove(); // ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚‚å‰Šé™¤
      };

      // è¦ç´ ã‚’çµ„ã¿ç«‹ã¦ã‚‹
      const buttonContainer = document.createElement('div');
      buttonContainer.style.cssText = 'display: flex; justify-content: flex-end; margin-top: 15px;';
      buttonContainer.appendChild(copyButton);
      buttonContainer.appendChild(closeButton);

      modal.appendChild(title);
      modal.appendChild(pre);
      modal.appendChild(buttonContainer);

      // DOMã«è¿½åŠ 
      document.body.appendChild(overlay);
      document.body.appendChild(modal);
    }

    










    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ ï¼ˆè¦ªãƒ•ãƒ¬ãƒ¼ãƒ ã‹ã‚‰ã®ãƒªã‚»ãƒƒãƒˆæŒ‡ç¤ºã‚’å—ã‘å–ã‚‹ï¼‰
    window.addEventListener('message', (event) => {
      if (event.data === 'reset-demo') {
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®ã‚’ãƒªã‚»ãƒƒãƒˆ
        window.scrollTo(0, 0);
        location.reload();
      }
    });

  });
</script>
</body>

</html>