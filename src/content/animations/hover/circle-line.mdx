---
title: 【追加作業中】正円のラインを引く（CSS）
parentCategory: インタラクティブ要素
category: ホバーエフェクト
tags: [ボタン, CSS]
difficulty: intermediate
pubDate: 2025-03-06
---

import IframeDemo from '../../../components/IframeDemo.astro';

## デモ

<IframeDemo/>

## 実装方法

### HTML

```html
 <a href="#" class="btn"></a>
```

### CSS

```css

.btn{
  display: grid;
  place-items: center;
  width: 40px;
  height: 40px;
  border-radius:50%;
  border:solid 1px #ccc;
  transition: border-color 0.3s;
}
.btn::after{
  grid-area: 1/1;
  content: "→";
}
.btn::before{
  grid-area: 1/1;
  display: block;
  content: "";
  width:calc(100% + 2px);
  height:calc(100% + 2px);
  border-radius:50%;
  background: conic-gradient(from 0deg, #000 var(--deg1,0deg), #000 var(--deg2,0deg), rgba(0, 0, 0, 0.00)  var(--deg3,0deg), rgba(0, 0, 0, 0.00) var(--deg4,360deg));

  /*40pxの95% = 38px。40px - 38px = 2px。2px/2 = 1px で1pxの線が描画される */
  mask: radial-gradient(50% 50% at 50% 50%, transparent 94%, black 96%);
}

.btn:hover{
  border-color: #000;
  transition: border-color 0s 1s;
}
.btn:hover::before{
  opacity: 1;
  transition: opacity 0s;
  animation: conic 1s cubic-bezier(.49,0,1,.99) forwards;
}

@property --deg1 {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}
@property --deg2 {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}
@property --deg3 {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}
@property --deg4 {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}


@keyframes conic{
  from{
    --deg1:0deg;
    --deg2:0deg;
    --deg3:0deg;
    --deg4:361deg;
  }
  to{
    --deg1:0deg;
    --deg2:361deg;
    --deg3:361deg;
    --deg4:361deg;
  }
}


```

## ポイント
- `conic-gradient` と`mask` の組み合わせで、円形に線が引かれているように見せる。
- グラデーションをアニメーションさせるために `@property` を使う。
- 表示された線がフェードアウトするように見せかけるため、.btnの`border-color` をタイミングよくtransitionさせる。
